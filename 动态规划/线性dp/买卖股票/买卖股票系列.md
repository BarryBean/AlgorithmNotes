动态问题三要素：状态、选择、转移方程。

这类问题的状态有三个，一是天数，二是允许交易的最大次数，三是当前状态即持有股票和没持有股票。

状态表示为：
```java
dp[i][k][0 or 1]，0 <= i <= n-1, 1 <= k <= K
```
选择即想象成穷举所有状态的可能值：
```java
for(int i = 0; i < n; i++)
    for(int j = 1; j <= K; j++)
        for(int s in {0, 1})
            dp[i][j][s] = max(buy, sell, rest)
```
状态转移：
```
dp[i][k][0] = max(dp[i-1][k][0], dp[i-1][k][1] + prices[i])
            = max(不做操作, 卖)

解释：今天没持有股票，要么昨天就没持有；要么昨天持有，但今天卖出了。

dp[i][k][1] = max(dp[i-1][k][1], dp[i-1][k-1][0] - prices[i])//k也能在卖出时减少
            = max(不做操作, 买)

解释：今天持有股票，要么昨天就持有股票；要么昨天没有，今天我买了股票。
```
如果买入股票，就从利润中减去当前的股票价格 prices[i]；如果卖出股票，就要给利润增加当前的股票价格 prices[i]。

当天的最大利润就是两个状态的四种操作中最大的一个。
